<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

	<!-- <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css"> -->
	<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script> 
var words = '[ ' +
	'{"hun" : "alma", "en" : "apple"},' +
'{"hun" : "körte", "en" :  "pear"},' +
'{"hun" : "citrom", "en" :  "lemon"},' +
'{"hun" : "banán", "en" :  "banana"}' +
']';

var myDict = JSON.parse(words);
var id = 0;
var stats = {
  known : 0,
  notSure : 0,
  unknown :0
}
function pickItemFromDictionary() {

	id = Math.floor((Math.random() * myDict.length));
  console.log(id)
  console.log(words)
  console.log(myDict)
	return pickWordInHungarian(id);
}

function pickWordInHungarian(id) {
  return myDict[id].hun;
}

function pickWordInEnglish(id) {
  return myDict[id].en;
}

$(document).ready(function(){
  $("#startGame").click(function(){
    stats.known = 0;
    stats.notSure = 0;
    stats.unknown = 0; 
    $("#startGame").hide();
    $("#myResult").hide();
    $("#show").show();
    $("#myFrame").text(pickItemFromDictionary())
    $("#myFrame").show();
    $("#myStats").show();
  });

  $("#show").click(function(){
     $("#myFrame").text(pickWordInEnglish(id)) 
     $("#feedback").show();
  });

  $("#iKnow").click(function(){
    stats.known++;
    $("#feedback").hide();

    $("#show").show();
    $("#myFrame").text(pickItemFromDictionary())
    $("#myFrame").show();  
  });  

  $("#almostKnow").click(function(){
    stats.notSure++;
    $("#feedback").hide();

    $("#show").show();
    $("#myFrame").text(pickItemFromDictionary())
    $("#myFrame").show();  
  }); 

  $("#dontKnow").click(function(){
    stats.unknown++;
    $("#feedback").hide();

    $("#show").show();
    $("#myFrame").text(pickItemFromDictionary())
    $("#myFrame").show();  
  }); 
  
  $("#myStats").click(function(){
    $("#myFrame").hide();
    $("#feedback").hide();
    $("#show").hide();
    $("#myStats").hide();
    $("#startGame").show();
    msg = "You knew: " + stats.known  +", You were not sure: " + stats.notSure + ", You didn't know: " + stats.unknown;
    console.log(msg);
    $("#myResult").text(msg);
    $("#myResult").show();

  });
 });



</script> 
</head>
<body>
  <div class="container">
  <div class="page-header">
    <h1>Julcsi's amazing flashcard game</h1>
  </div>
</div>

<button type="button" class="btn btn-default" id = "startGame">Start Game </button>
<button type="button" class="btn btn-info" id = "show" style="display:none">Show it to me</button>

<div class = "container" id="feedback" style="display:none">
  <div class="row">
    <div class="col-sm-4">
      <button type="button" class="btn btn-success" id = "iKnow"> Tudtam </button>
    </div>
    <div class="col-sm-4">
      <button type="button" class="btn btn-warning" id = "almostKnow"> Kb tudtam</button>
    </div>
    <div class="col-sm-4">
      <button type="button" class="btn btn-danger" id = "dontKnow"> Nem tudtam </button>
    </div>
  </div>
</div>



<div class = "container">
    <div class="jumbotron" style="display:none;" align="center" id = "myFrame">
    </div>
   </div>
</div>
<button type="button" class="btn btn-info" id = "myStats" style="display:none">Show my result</button>

<div class = "container">
  <p style="display:none;" id = "myResult" class="bg-info">  </p>
</div>

</body>
</html>
